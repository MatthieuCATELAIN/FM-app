{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Table,TableHead,TableRow,TableCell,TableBody,TableContainer,Paper}from'@mui/material';import SideBar from\"../components/SideBar\";import axios from\"axios\";import\"../globals.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ComplexView=()=>{const[squadData,setSquadData]=useState([]);const[columnHeaders,setColumnHeaders]=useState([]);const[sortConfig,setSortConfig]=useState({key:null,direction:'asc'});const handleSort=key=>{let direction='asc';if(sortConfig.key===key&&sortConfig.direction==='asc'){direction='desc';}setSortConfig({key,direction});};useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get('/get_squad_data');setColumnHeaders(response.data.column_headers);setSquadData(response.data.player_data);}catch(error){console.error('Error fetching data:',error);}};fetchData();},[]);const sortedData=()=>{const sortableData=[...squadData];if(sortConfig.key!==null){sortableData.sort((a,b)=>{const valueA=a[columnHeaders.indexOf(sortConfig.key)];const valueB=b[columnHeaders.indexOf(sortConfig.key)];if(valueA<valueB){return sortConfig.direction==='asc'?-1:1;}if(valueA>valueB){return sortConfig.direction==='asc'?1:-1;}return 0;});}return sortableData;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(SideBar,{})}),squadData&&/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",style:{flex:1,overflow:'auto'},children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[columnHeaders.slice(0,10).map((header,index)=>/*#__PURE__*/_jsxs(TableCell,{onClick:()=>handleSort(header),children:[header,sortConfig.key===header&&(sortConfig.direction==='asc'?' ⬆️':' ⬇️')]},index)),columnHeaders.slice(50).map((header,index)=>/*#__PURE__*/_jsxs(TableCell,{onClick:()=>handleSort(header),children:[header,sortConfig.key===header&&(sortConfig.direction==='asc'?' ⬆️':' ⬇️')]},index+50))]})}),/*#__PURE__*/_jsx(TableBody,{children:sortedData().map((row,rowIndex)=>/*#__PURE__*/_jsxs(TableRow,{children:[row.slice(0,10).map((value,columnIndex)=>/*#__PURE__*/_jsx(TableCell,{children:value},columnIndex)),row.slice(50).map((value,columnIndex)=>/*#__PURE__*/_jsx(TableCell,{children:value},columnIndex+50))]},rowIndex))})]})})})]});};export default ComplexView;","map":{"version":3,"names":["React","useEffect","useState","Table","TableHead","TableRow","TableCell","TableBody","TableContainer","Paper","SideBar","axios","jsx","_jsx","jsxs","_jsxs","ComplexView","squadData","setSquadData","columnHeaders","setColumnHeaders","sortConfig","setSortConfig","key","direction","handleSort","fetchData","response","get","data","column_headers","player_data","error","console","sortedData","sortableData","sort","a","b","valueA","indexOf","valueB","className","style","display","children","flex","overflow","component","stickyHeader","slice","map","header","index","onClick","row","rowIndex","value","columnIndex"],"sources":["/home/student/python/FM-app/frontend/src/pages/ComplexView.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Table, TableHead, TableRow, TableCell, TableBody, TableContainer, Paper } from '@mui/material';\nimport SideBar from \"../components/SideBar\";\nimport axios from \"axios\";\nimport \"../globals.css\"; \nconst ComplexView = () => {\n\n    const [squadData, setSquadData] = useState([]);\n    const [columnHeaders, setColumnHeaders] = useState([]);\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'asc' });\n\n    const handleSort = (key) => {\n        let direction = 'asc';\n        if (sortConfig.key === key && sortConfig.direction === 'asc') {\n            direction = 'desc';\n        }\n        setSortConfig({ key, direction });\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await axios.get('/get_squad_data');\n                setColumnHeaders(response.data.column_headers);\n                setSquadData(response.data.player_data);\n            } catch (error) {\n                console.error('Error fetching data:', error);\n            }\n        };\n\n        fetchData();\n    }, []);\n\n\n    const sortedData = () => {\n        const sortableData = [...squadData];\n        if (sortConfig.key !== null) {\n            sortableData.sort((a, b) => {\n                const valueA = a[columnHeaders.indexOf(sortConfig.key)];\n                const valueB = b[columnHeaders.indexOf(sortConfig.key)];\n\n                if (valueA < valueB) {\n                    return sortConfig.direction === 'asc' ? -1 : 1;\n                }\n                if (valueA > valueB) {\n                    return sortConfig.direction === 'asc' ? 1 : -1;\n                }\n                return 0;\n            });\n        }\n        return sortableData;\n    };\n\n    return (\n        <div className=\"container\" style={{ display: 'flex' }}>\n            <div className=\"sidebar\">\n                <SideBar />\n            </div>\n            {( squadData &&\n            <div className=\"main-content\" style={{ flex: 1, overflow: 'auto' }}>\n                <TableContainer component={Paper}>\n                    <Table stickyHeader aria-label=\"sticky table\">\n                        <TableHead>\n                            <TableRow>\n                                {columnHeaders.slice(0, 10).map((header, index) => (\n                                    <TableCell key={index} onClick={() => handleSort(header)}>\n                                        {header}\n                                        {sortConfig.key === header && (\n                                            sortConfig.direction === 'asc' ? ' ⬆️' : ' ⬇️'\n                                        )}\n                                    </TableCell>\n                                ))}\n                                {columnHeaders.slice(50).map((header, index) => (\n                                    <TableCell key={index + 50} onClick={() => handleSort(header)}>\n                                        {header}\n                                        {sortConfig.key === header && (\n                                            sortConfig.direction === 'asc' ? ' ⬆️' : ' ⬇️'\n                                        )}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {sortedData().map((row, rowIndex) => (\n                                <TableRow key={rowIndex}>\n                                    {row.slice(0, 10).map((value, columnIndex) => (\n                                        <TableCell key={columnIndex}>{value}</TableCell>\n                                    ))}\n                                    {row.slice(50).map((value, columnIndex) => (\n                                        <TableCell key={columnIndex + 50}>{value}</TableCell>\n                                    ))}\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </div>\n            )}\n        </div>\n    );\n};\n\nexport default ComplexView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}